<script type="module">
  async function check() {
    /* Commented out env vars
    const url = import.meta.env.VITE_SUPABASE_URL;
    const key = import.meta.env.VITE_SUPABASE_ANON_KEY;
    */

    /* Hard‑coded values for the quick test */
    const url = 'https://lgnhrjlnuamhttgpjtdz.supabase.co';
    const key = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxnbmhyamxudWFtaHR0Z3BqdGR6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTA4MTA0MDgsImV4cCI6MjA2NjM4NjQwOH0.VeWLzlfUIZKPBqbmroyk9t5U_eS3OEI2EtmvamgubuA';

    const statusEl = document.getElementById('status');

    try {
      const res = await fetch(`${url}/rest/v1/assignments?select=id&limit=1`, {
        headers: { apikey: key }
      });
      if (res.ok) {
        statusEl.textContent = '● Connected';
        statusEl.className = 'ok';
      } else {
        statusEl.textContent = `● Disconnected (HTTP ${res.status})`;
      }
    } catch (err) {
      statusEl.textContent = '● Disconnected (Network error)';
    }
  }
  check();
</script>
